{% extends 'base_page.html' %}
{% load static %}
{% load render_table from django_tables2 %}

{% block extra_css %}
<style>
    .table thead th {
        background: #f8f9fa;
        border-bottom: 2px solid #dee2e6;
        font-weight: 600;
        color: #2c3e50;
        letter-spacing: 0.03em;
    }

    .table-hover tbody tr:hover {
        background-color: #f8f9fa !important;
    }

    .table td {
        border-color: #f1f3f5;
    }

    .border {
        border-color: #e9ecef !important;
    }
</style>
<script src="https://unpkg.com/htmx.org@1.9.2" integrity="sha384-L6OqL9pRWyyFU3+/bjdSri+iIphTN/bvYyM37tICVyOJkWZLpP2vGn6VUEXgzg6h" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/2.2.2/css/dataTables.bootstrap5.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/3.2.2/css/buttons.bootstrap5.css">
{% endblock %}

{% block content %}

<div class="container my-5">
    <!-- Заголовок с иконкой -->
    <div class="d-flex align-items-center gap-3 mb-4">
        <i class="fa-solid fa-table fa-4x" style="color: #007bff;"></i>
        <h2 class="m-0 display-6 fw-bold text-primary">
            {{ table_title }}
            <small class="text-muted fs-6 d-block mt-1">Обновлено: {% now "d.m.Y H:i" %}</small>
        </h2>
    </div>

    <!-- Таблица -->
    <div class="border rounded-3 overflow-hidden shadow-sm">
        {% render_table table %}
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script src="https://cdn.datatables.net/2.2.2/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.2.2/js/dataTables.bootstrap5.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.2/js/dataTables.buttons.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.2/js/buttons.bootstrap5.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.2/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/buttons/3.2.2/js/buttons.colVis.min.js"></script>
{% endblock%}
